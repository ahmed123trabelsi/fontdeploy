"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[529],{9529:(Yt,B,r)=>{r.r(B),r.d(B,{LEAVE_ROUTE:()=>Ut});var b=r(84412),k=r(14619),e=r(54438),D=r(21626);let G=(()=>{class t extends k.U{constructor(a){super(),this.httpClient=a,this.API_URL="assets/data/leave-balance.json",this.isTblLoading=!0,this.dataChange=new b.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllLeavess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:a=>{this.isTblLoading=!1,this.dataChange.next(a)},error:a=>{this.isTblLoading=!1,console.log(a.name+" "+a.message)}})}static#e=this.\u0275fac=function(i){return new(i||t)(e.KVO(D.Qq))};static#t=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _=r(96695),p=r(2042),F=r(45024),L=r(33726),S=r(57786),w=r(96354),h=r(59115),x=r(9183),g=r(86600),C=r(60177),o=r(9159),$=r(8173),d=r(75351),N=r(95416);const A=["filter"],X=()=>["Leaves"],O=()=>[5,10,25,100];function P(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Id "),e.k0s())}function H(t,l){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=l.$implicit;e.R7$(),e.JRh(a.id)}}function z(t,l){1&t&&(e.j41(0,"mat-header-cell",42),e.EFF(1," Image "),e.k0s()),2&t&&e.Y8G("ngClass","tbl-col-width-per-7")}function J(t,l){if(1&t&&(e.j41(0,"mat-cell",43)(1,"span",44),e.EFF(2,"Image:"),e.k0s(),e.nrm(3,"img",45),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.Y8G("src",a.img,e.B4B)}}function Q(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Name "),e.k0s())}function Z(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Name:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI(" ",a.name," ")}}function K(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Previous Year "),e.k0s())}function W(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Previous Year:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI("",a.prev," ")}}function ee(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Current Year "),e.k0s())}function te(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Current Year:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI(" ",a.current," ")}}function ae(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Total "),e.k0s())}function le(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Total:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.JRh(a.total)}}function ne(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Used "),e.k0s())}function ie(t,l){if(1&t&&(e.j41(0,"mat-cell",46)(1,"span",44),e.EFF(2,"Used:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI("",a.used," ")}}function se(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Accepted "),e.k0s())}function oe(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Accepted:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI(" ",a.accepted," ")}}function re(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Rejected "),e.k0s())}function ce(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Rejected:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI("",a.rejected," ")}}function me(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Expired "),e.k0s())}function de(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Expired:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI("",a.expired," ")}}function pe(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Carry Over "),e.k0s())}function ue(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",44),e.EFF(2,"Carry Over:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI("",a.carryOver," ")}}function he(t,l){1&t&&e.nrm(0,"mat-header-row")}function fe(t,l){1&t&&e.nrm(0,"mat-row",47),2&t&&e.xc7("cursor","pointer")}function _e(t,l){1&t&&(e.j41(0,"div",38),e.nrm(1,"mat-progress-spinner",48),e.k0s()),2&t&&(e.R7$(),e.Y8G("diameter",40))}function ve(t,l){if(1&t&&(e.j41(0,"div",49),e.EFF(1," No results "),e.k0s()),2&t){const a=e.XpG();e.xc7("display",0===a.dataSource.renderedData.length?"":"none")}}let ge=(()=>{class t extends k.U{constructor(a,i,n,s){super(),this.httpClient=a,this.dialog=i,this.leavesService=n,this.snackBar=s,this.filterToggle=!1,this.displayedColumns=["img","name","prev","current","total","used","accepted","rejected","expired","carryOver"],this.selection=new F.CB(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}toggleStar(a){console.log(a)}loadData(){this.exampleDatabase=new G(this.httpClient),this.dataSource=new Fe(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,L.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(D.Qq),e.rXU(d.bZ),e.rXU(G),e.rXU(N.UG))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-leave-balance"]],viewQuery:function(i,n){if(1&i&&(e.GBs(_.iy,7),e.GBs(p.B4,7),e.GBs(A,7),e.GBs(h.Cp,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.paginator=s.first),e.mGM(s=e.lsd())&&(n.sort=s.first),e.mGM(s=e.lsd())&&(n.filter=s.first),e.mGM(s=e.lsd())&&(n.contextMenu=s.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:61,vars:14,consts:[["filter",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","img"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","table-img tbl-col-width-per-7",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","prev"],["matColumnDef","current"],["matColumnDef","total"],["matColumnDef","used"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","accepted"],["matColumnDef","rejected"],["matColumnDef","expired"],["matColumnDef","carryOver"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-sort-header",""],["mat-header-cell","",3,"ngClass"],["mat-cell","",1,"table-img","tbl-col-width-per-7"],[1,"mobile-label"],[3,"src"],[1,"column-nowrap"],["matRipple",""],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(i,n){1&i&&(e.j41(0,"section",2)(1,"div",3)(2,"div",4),e.nrm(3,"app-breadcrumb",5),e.k0s(),e.j41(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ul",11)(10,"li",12)(11,"h2"),e.EFF(12,"Leave Balance"),e.k0s()(),e.j41(13,"li",13)(14,"label",14)(15,"i",15),e.EFF(16,"search"),e.k0s()(),e.nrm(17,"input",16,0),e.k0s()()()(),e.j41(19,"div",17)(20,"div",18)(21,"table",19),e.qex(22,20),e.DNE(23,P,2,0,"mat-header-cell",21)(24,H,2,1,"mat-cell",22),e.bVm(),e.qex(25,23),e.DNE(26,z,2,1,"mat-header-cell",24)(27,J,4,1,"mat-cell",25),e.bVm(),e.qex(28,26),e.DNE(29,Q,2,0,"mat-header-cell",21)(30,Z,4,1,"mat-cell",22),e.bVm(),e.qex(31,27),e.DNE(32,K,2,0,"mat-header-cell",21)(33,W,4,1,"mat-cell",22),e.bVm(),e.qex(34,28),e.DNE(35,ee,2,0,"mat-header-cell",21)(36,te,4,1,"mat-cell",22),e.bVm(),e.qex(37,29),e.DNE(38,ae,2,0,"mat-header-cell",21)(39,le,4,1,"mat-cell",22),e.bVm(),e.qex(40,30),e.DNE(41,ne,2,0,"mat-header-cell",21)(42,ie,4,1,"mat-cell",31),e.bVm(),e.qex(43,32),e.DNE(44,se,2,0,"mat-header-cell",21)(45,oe,4,1,"mat-cell",22),e.bVm(),e.qex(46,33),e.DNE(47,re,2,0,"mat-header-cell",21)(48,ce,4,1,"mat-cell",22),e.bVm(),e.qex(49,34),e.DNE(50,me,2,0,"mat-header-cell",21)(51,de,4,1,"mat-cell",22),e.bVm(),e.qex(52,35),e.DNE(53,pe,2,0,"mat-header-cell",21)(54,ue,4,1,"mat-cell",22),e.bVm(),e.DNE(55,he,1,0,"mat-header-row",36)(56,fe,1,2,"mat-row",37),e.k0s(),e.DNE(57,_e,2,1,"div",38)(58,ve,2,2,"div",39),e.nrm(59,"mat-paginator",40,1),e.k0s()()()()()()()),2&i&&(e.R7$(3),e.Y8G("title","Leave Balance")("items",e.lJ4(12,X))("active_item","Leave Balance"),e.R7$(18),e.Y8G("dataSource",n.dataSource),e.R7$(34),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.vxM(57,null!=n.exampleDatabase&&n.exampleDatabase.isTblLoading?57:-1),e.R7$(),e.vxM(58,null!=n.exampleDatabase&&n.exampleDatabase.isTblLoading?-1:58),e.R7$(),e.Y8G("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.lJ4(13,O)))},dependencies:[$.D,o.tP,o.Zl,o.tL,o.ji,o.cC,o.YV,o.iL,o.KS,o.$R,o.YZ,o.NB,p.NQ,p.B4,p.aE,C.YU,g.pZ,g.r6,x.D6,x.LG,_.Ou,_.iy]})}return t})();class Fe extends F.qS{get filter(){return this.filterChange.value}set filter(l){this.filterChange.next(l)}constructor(l,a,i){super(),this.exampleDatabase=l,this.paginator=a,this._sort=i,this.filterChange=new b.t(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const l=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllLeavess(),(0,S.h)(...l).pipe((0,w.T)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(n=>-1!==n.name.toLowerCase().indexOf(this.filter.toLowerCase()));const a=this.sortData(this.filteredData.slice());return this.renderedData=a.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(l){return this._sort.active&&""!==this._sort.direction?l.sort((a,i)=>{let n="",s="";switch(this._sort.active){case"id":[n,s]=[a.id,i.id];break;case"name":[n,s]=[a.name,i.name];break;case"total":[n,s]=[a.total,i.total];break;case"used":[n,s]=[a.used,i.used];break;case"accepted":[n,s]=[a.accepted,i.accepted]}return((isNaN(+n)?n:+n)<(isNaN(+s)?s:+s)?-1:1)*("asc"===this._sort.direction?1:-1)}):l}}let T=(()=>{class t extends k.U{constructor(a){super(),this.httpClient=a,this.API_URL="https://backdeploy-7y83.onrender.com/Conge",this.isTblLoading=!0,this.dataChange=new b.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}addLeaves(a){this.dialogData=a}refuserDemandeConge(a){return this.httpClient.put(this.API_URL+"/"+a+"/refus",null)}accepterDemandeConge(a){return this.httpClient.put(this.API_URL+"/"+a+"/accept",null)}updateLeaves(a){this.dialogData=a}deleteLeaves(a){console.log(a)}getAllUserswithconge(){return this.httpClient.get(this.API_URL+"/leaves")}static#e=this.\u0275fac=function(i){return new(i||t)(e.KVO(D.Qq))};static#t=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ce=r(25558),m=r(89417);class Ee{}var q=r(25596),V=r(82798),j=r(25084),M=r(99631),R=r(32102),E=r(99213),v=r(88834);function xe(t,l){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Name is required "),e.k0s())}function Re(t,l){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid type reason "),e.k0s())}function Te(t,l){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Please select date "),e.k0s())}function je(t,l){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Please select date "),e.k0s())}function ye(t,l){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Employee Name is required "),e.k0s())}function Le(t,l){if(1&t){const a=e.RV6();e.j41(0,"div",3)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),e.EFF(5),e.k0s()()(),e.j41(6,"button",9),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.dialogRef.close())}),e.j41(7,"mat-icon"),e.EFF(8,"close"),e.k0s()()(),e.j41(9,"div",10)(10,"form",11),e.bIt("ngSubmit",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.submit)}),e.j41(11,"div",12)(12,"div",13)(13,"mat-form-field",14)(14,"mat-label"),e.EFF(15,"Name"),e.k0s(),e.nrm(16,"input",15),e.j41(17,"i",16),e.EFF(18,"face"),e.k0s(),e.DNE(19,xe,2,0,"mat-error"),e.k0s()(),e.j41(20,"div",13)(21,"mat-form-field",14)(22,"mat-label"),e.EFF(23,"Leave Type"),e.k0s(),e.nrm(24,"input",17),e.j41(25,"i",16),e.EFF(26,"spoke"),e.k0s(),e.DNE(27,Re,2,0,"mat-error"),e.k0s()()(),e.j41(28,"div",12)(29,"div",13)(30,"mat-form-field",14)(31,"mat-label"),e.EFF(32,"Leave From"),e.k0s(),e.nrm(33,"input",18)(34,"mat-datepicker-toggle",19)(35,"mat-datepicker",null,0),e.DNE(37,Te,2,0,"mat-error"),e.k0s()(),e.j41(38,"div",13)(39,"mat-form-field",14)(40,"mat-label"),e.EFF(41,"Leave To"),e.k0s(),e.nrm(42,"input",20)(43,"mat-datepicker-toggle",19)(44,"mat-datepicker",null,1),e.DNE(46,je,2,0,"mat-error"),e.k0s()()(),e.j41(47,"div",12)(48,"div",13)(49,"mat-form-field",14)(50,"mat-label"),e.EFF(51,"No Of Days"),e.k0s(),e.nrm(52,"input",21),e.k0s()(),e.j41(53,"div",13)(54,"mat-form-field",22)(55,"mat-label"),e.EFF(56,"Status"),e.k0s(),e.j41(57,"mat-select",23)(58,"mat-option",24),e.EFF(59," Approved "),e.k0s(),e.j41(60,"mat-option",24),e.EFF(61," Rejected "),e.k0s()(),e.DNE(62,ye,2,0,"mat-error"),e.k0s()()(),e.j41(63,"div",12)(64,"div",25)(65,"mat-form-field",14)(66,"mat-label"),e.EFF(67,"Reason"),e.k0s(),e.nrm(68,"textarea",26),e.k0s()()(),e.j41(69,"div",12)(70,"div",25)(71,"mat-form-field",14)(72,"mat-label"),e.EFF(73,"Note"),e.k0s(),e.nrm(74,"textarea",27),e.k0s()()(),e.j41(75,"div",12)(76,"div",25)(77,"div",28)(78,"button",29),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.confirmAdd())}),e.EFF(79,"Save"),e.k0s(),e.j41(80,"button",30),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.onNoClick())}),e.EFF(81,"Cancel"),e.k0s()()()()()()()}if(2&t){let a,i,n,s,c;const f=e.sdS(36),y=e.sdS(45),u=e.XpG();e.R7$(5),e.SpI(" ",u.dialogTitle," "),e.R7$(5),e.Y8G("formGroup",u.leavesForm),e.R7$(9),e.vxM(19,null!=(a=u.leavesForm.get("name"))&&a.hasError("required")?19:-1),e.R7$(8),e.vxM(27,null!=(i=u.leavesForm.get("type"))&&i.hasError("required")||null!=(i=u.leavesForm.get("type"))&&i.touched?27:-1),e.R7$(6),e.Y8G("matDatepicker",f),e.R7$(),e.Y8G("for",f),e.R7$(3),e.vxM(37,null!=(n=u.leavesForm.get("from"))&&n.hasError("required")?37:-1),e.R7$(5),e.Y8G("matDatepicker",y),e.R7$(),e.Y8G("for",y),e.R7$(3),e.vxM(46,null!=(s=u.leavesForm.get("leaveTo"))&&s.hasError("required")?46:-1),e.R7$(12),e.Y8G("value","Approved"),e.R7$(2),e.Y8G("value","Rejected"),e.R7$(2),e.vxM(62,null!=(c=u.leavesForm.get("status"))&&c.hasError("required")?62:-1),e.R7$(16),e.Y8G("disabled",!u.leavesForm.valid)("mat-dialog-close",1)}}function Se(t,l){if(1&t){const a=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",31),e.nrm(5,"div",32),e.j41(6,"div",33)(7,"div",34),e.EFF(8,"Manager"),e.k0s()()()()(),e.j41(9,"button",9),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.dialogRef.close())}),e.j41(10,"mat-icon"),e.EFF(11,"close"),e.k0s()()(),e.j41(12,"div",10)(13,"mat-card-content")(14,"div",35)(15,"i",36),e.EFF(16,"receipt"),e.k0s(),e.j41(17,"div",37),e.EFF(18),e.k0s()(),e.j41(19,"div",35)(20,"i",36),e.EFF(21,"today"),e.k0s(),e.j41(22,"div",37),e.EFF(23),e.nI1(24,"date"),e.k0s()(),e.j41(25,"div",35)(26,"i",36),e.EFF(27,"fact_check"),e.k0s(),e.j41(28,"div",37),e.EFF(29),e.nI1(30,"date"),e.k0s()(),e.j41(31,"div",35)(32,"i",36),e.EFF(33,"tag"),e.k0s(),e.j41(34,"div",37),e.EFF(35),e.k0s()(),e.j41(36,"div",35)(37,"i",36),e.EFF(38,"info"),e.k0s(),e.j41(39,"div",37),e.EFF(40),e.k0s()(),e.j41(41,"div",35)(42,"i",36),e.EFF(43,"description"),e.k0s(),e.j41(44,"div",37),e.EFF(45),e.k0s()()()()()}if(2&t){const a=e.XpG();e.R7$(18),e.SpI(" ",a.leaves.leaveType," "),e.R7$(5),e.SpI(" ",e.i5U(24,6,a.leaves.startDate,"MMMM d, yyyy")," "),e.R7$(6),e.SpI(" ",e.i5U(30,9,a.leaves.endDate,"MMMM d, yyyy")," "),e.R7$(6),e.SpI(" ",a.leaves.startTime," "),e.R7$(5),e.SpI(" ",a.leaves.status," "),e.R7$(5),e.SpI(" ",a.leaves.reason," ")}}let I=(()=>{class t{constructor(a,i,n,s){if(this.dialogRef=a,this.data=i,this.leavesService=n,this.fb=s,this.isDetails=!1,this.formControl=new m.hs("",[m.k0.required]),this.action=i.action,"edit"===this.action)this.dialogTitle="Edit Leave Request",this.leaves=i.leaves,this.leavesForm=this.createContactForm(),this.leavesForm.patchValue(this.leaves);else{this.dialogTitle="New Leave Request";const c={};this.leaves=new Ee,Object.assign(this.leaves,c),this.leavesForm=this.createContactForm()}}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("type")?"Not a valid type":""}createContactForm(){return this.fb.group({id:[this.leaves._id],type:[this.leaves.leaveType,[m.k0.required,m.k0.minLength(5)]],from:[(0,C.Yq)(this.leaves.startDate,"yyyy-MM-dd","en"),[m.k0.required]],leaveTo:[(0,C.Yq)(this.leaves.endDate,"yyyy-MM-dd","en"),[m.k0.required]],reason:[this.leaves.reason],noOfDays:[this.leaves.startTime],status:[this.leaves.status],note:[this.leaves.endTime]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.leavesService.addLeaves(this.leavesForm?.getRawValue())}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(d.CP),e.rXU(d.Vh),e.rXU(T),e.rXU(m.ze))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-form"]],standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["picker2",""],["picker",""],[1,"addContainer"],[1,"contact-form"],[1,"contact-details"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","name","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","type","required",""],["matInput","","formControlName","from",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","leaveTo",3,"matDatepicker"],["matInput","","formControlName","noOfDays","required",""],["appearance","outline",1,"example-full-width"],["formControlName","status","required",""],[3,"value"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","reason"],["matInput","","formControlName","note"],["align","end",1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled","mat-dialog-close"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],[1,"modal-about","contact-header"],[1,"contact-details-img"],[1,"contact-details-heading"],[1,"badge","col-green","ms-2"],[1,"contact-details-field"],[1,"material-icons-outlined","color-icon"],[1,"contact-detail-info"]],template:function(i,n){1&i&&(e.j41(0,"div",2),e.DNE(1,Le,82,15,"div",3)(2,Se,46,12,"div",4),e.k0s()),2&i&&(e.R7$(),e.vxM(1,n.isDetails?-1:1),e.R7$(),e.vxM(2,n.isDetails?2:-1))},dependencies:[v.Hl,v.$z,v.iY,E.m_,E.An,d.Yi,m.YN,m.qT,m.me,m.BC,m.cb,m.YS,m.X1,m.j4,m.JD,R.RG,R.rl,R.nJ,R.TL,R.yw,M.fS,M.fg,j.X6,j.Vh,j.bZ,j.bU,V.Ve,V.VO,g.wT,g.Sy,d.tx,q.Hu,q.m2,C.vh]})}return t})(),we=(()=>{class t{constructor(a,i,n){this.dialogRef=a,this.data=i,this.leavesService=n}onNoClick(){this.dialogRef.close()}confirmDelete(){this.leavesService.deleteLeaves(this.data.id)}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(d.CP),e.rXU(d.Vh),e.rXU(T))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-delete",5,"k"]],standalone:!0,features:[e.aNF],decls:26,vars:6,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2,"Are you sure?"),e.k0s(),e.j41(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),e.EFF(8," Name: "),e.k0s(),e.EFF(9),e.k0s()(),e.j41(10,"li")(11,"p")(12,"span",4),e.EFF(13," Leave Type: "),e.k0s(),e.EFF(14),e.k0s()(),e.j41(15,"li")(16,"p")(17,"span",4),e.EFF(18,"From: "),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s()()()(),e.j41(21,"div",5)(22,"button",6),e.bIt("click",function(){return n.confirmDelete()}),e.EFF(23," Delete "),e.k0s(),e.j41(24,"button",7),e.bIt("click",function(){return n.onNoClick()}),e.EFF(25,"Cancel"),e.k0s()()()),2&i&&(e.R7$(9),e.JRh(n.data.name),e.R7$(5),e.JRh(n.data.type),e.R7$(5),e.SpI("",e.bMT(20,4,n.data.from)," "),e.R7$(3),e.Y8G("mat-dialog-close",1))},dependencies:[d.BI,d.Yi,d.E7,v.Hl,v.$z,d.tx,C.vh]})}return t})();var U=r(82765),$e=r(14823);const Ne=["filter"],Ie=()=>["Leaves"],Be=()=>[5,10,25,100];function Ge(t,l){if(1&t){const a=e.RV6();e.j41(0,"mat-header-cell",47)(1,"mat-checkbox",48),e.bIt("change",function(n){e.eBV(a);const s=e.XpG();return e.Njj(n?s.masterToggle():null)}),e.k0s()()}if(2&t){const a=e.XpG();e.Y8G("ngClass","tbl-col-width-per-6"),e.R7$(),e.Y8G("checked",a.selection.hasValue()&&a.isAllSelected())("indeterminate",a.selection.hasValue()&&!a.isAllSelected())("ngClass","tbl-checkbox")}}function qe(t,l){if(1&t){const a=e.RV6();e.j41(0,"mat-cell",47)(1,"mat-checkbox",49),e.bIt("click",function(n){return e.eBV(a),e.Njj(n.stopPropagation())})("change",function(n){const s=e.eBV(a).$implicit,c=e.XpG();return e.Njj(n?c.selection.toggle(s):null)}),e.k0s()()}if(2&t){const a=l.$implicit,i=e.XpG();e.Y8G("ngClass","tbl-col-width-per-6"),e.R7$(),e.Y8G("checked",i.selection.isSelected(a))("ngClass","tbl-checkbox")}}function Ve(t,l){1&t&&(e.j41(0,"mat-header-cell",50),e.EFF(1," Image "),e.k0s()),2&t&&e.Y8G("ngClass","tbl-col-width-per-6")}function Me(t,l){if(1&t&&(e.j41(0,"mat-cell",51)(1,"span",52),e.EFF(2,"Image:"),e.k0s(),e.nrm(3,"img",53),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.Y8G("src",a.img,e.B4B)}}function Ue(t,l){1&t&&(e.j41(0,"mat-header-cell",54),e.EFF(1,"Name"),e.k0s())}function Ye(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",52),e.EFF(2,"Name:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI(" ",a.userName," ")}}function Ae(t,l){1&t&&(e.j41(0,"mat-header-cell",54),e.EFF(1,"Leave From "),e.k0s())}function Xe(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",52),e.EFF(2,"Leave From:"),e.k0s(),e.EFF(3),e.nI1(4,"date"),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI(" ",e.i5U(4,1,a.startDate,"MM/dd/yyyy")," ")}}function Oe(t,l){1&t&&(e.j41(0,"mat-header-cell",54),e.EFF(1,"Time Of Day "),e.k0s())}function Pe(t,l){if(1&t&&(e.j41(0,"mat-cell",55)(1,"span",52),e.EFF(2,"Time Of Days:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI("",a.startTime," ")}}function He(t,l){1&t&&(e.j41(0,"mat-header-cell",54),e.EFF(1,"Leave Type "),e.k0s())}function ze(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",52),e.EFF(2,"Leave Type:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI(" ",a.leaveType," ")}}function Je(t,l){1&t&&(e.j41(0,"mat-header-cell",54),e.EFF(1,"Leave To "),e.k0s())}function Qe(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",52),e.EFF(2,"Leave To:"),e.k0s(),e.EFF(3),e.nI1(4,"date"),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.JRh(e.i5U(4,1,a.endDate,"MM/dd/yyyy"))}}function Ze(t,l){1&t&&(e.j41(0,"mat-header-cell",54),e.EFF(1,"Time Of Day "),e.k0s())}function Ke(t,l){if(1&t&&(e.j41(0,"mat-cell",55)(1,"span",52),e.EFF(2,"Time Of Days:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI("",a.endTime," ")}}function We(t,l){1&t&&(e.j41(0,"mat-header-cell",54),e.EFF(1,"Days "),e.k0s())}function et(t,l){if(1&t&&(e.j41(0,"mat-cell",55)(1,"span",52),e.EFF(2," Days:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI("",a.numOfDays," ")}}function tt(t,l){1&t&&(e.j41(0,"mat-header-cell",54),e.EFF(1," Status "),e.k0s())}function at(t,l){if(1&t&&(e.j41(0,"div")(1,"span",57),e.EFF(2),e.k0s()()),2&t){const a=e.XpG().$implicit;e.R7$(2),e.SpI(" ",a.status,"")}}function lt(t,l){if(1&t&&(e.j41(0,"div")(1,"span",58),e.EFF(2),e.k0s()()),2&t){const a=e.XpG().$implicit;e.R7$(2),e.SpI(" ",a.status,"")}}function nt(t,l){if(1&t&&(e.j41(0,"div")(1,"span",59),e.EFF(2),e.k0s()()),2&t){const a=e.XpG().$implicit;e.R7$(2),e.SpI(" ",a.status,"")}}function it(t,l){if(1&t&&(e.j41(0,"mat-cell",56)(1,"span",52),e.EFF(2,"Status:"),e.k0s(),e.DNE(3,at,3,1,"div")(4,lt,3,1,"div")(5,nt,3,1,"div"),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.vxM(3,"Approved"===a.status?3:-1),e.R7$(),e.vxM(4,"Declined"===a.status?4:-1),e.R7$(),e.vxM(5,"Pending"===a.status?5:-1)}}function st(t,l){1&t&&(e.j41(0,"mat-header-cell",54),e.EFF(1,"Reason "),e.k0s())}function ot(t,l){if(1&t&&(e.j41(0,"mat-cell",55)(1,"span",60)(2,"span",52),e.EFF(3,"Reason:"),e.k0s(),e.EFF(4),e.k0s()()),2&t){const a=l.$implicit;e.R7$(4),e.JRh(a.reason)}}function rt(t,l){1&t&&(e.j41(0,"mat-header-cell",61),e.EFF(1," Actions "),e.k0s())}function ct(t,l){if(1&t){const a=e.RV6();e.j41(0,"mat-cell",61)(1,"button",62),e.bIt("click",function(n){return e.eBV(a),e.Njj(n.stopPropagation())}),e.j41(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.j41(4,"mat-menu",null,2)(6,"button",63),e.bIt("click",function(){const n=e.eBV(a).$implicit,s=e.XpG();return e.Njj(s.accepterDemande(n._id))}),e.j41(7,"i",64),e.EFF(8,"create"),e.k0s(),e.j41(9,"span"),e.EFF(10,"Approved"),e.k0s()(),e.j41(11,"button",63),e.bIt("click",function(){const n=e.eBV(a).$implicit,s=e.XpG();return e.Njj(s.refuserDemandeConge(n._id))}),e.j41(12,"i",64),e.EFF(13,"delete_forever"),e.k0s(),e.j41(14,"span"),e.EFF(15,"Declined"),e.k0s()()()()}if(2&t){const a=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",a)}}function mt(t,l){1&t&&e.nrm(0,"mat-header-row")}function dt(t,l){if(1&t){const a=e.RV6();e.j41(0,"mat-row",65),e.bIt("click",function(){const n=e.eBV(a).$implicit,s=e.XpG();return e.Njj(s.detailsCall(n))}),e.k0s()}2&t&&e.xc7("cursor","pointer")}function pt(t,l){if(1&t&&(e.j41(0,"div",66),e.EFF(1," No results "),e.k0s()),2&t){const a=e.XpG();e.xc7("display",0===a.dataSource.renderedData.length?"":"none")}}let ut=(()=>{class t extends k.U{constructor(a,i,n,s){super(),this.httpClient=a,this.dialog=i,this.leavesService=n,this.snackBar=s,this.filterToggle=!1,this.displayedColumns=["select","img","name","type","from","endTime","leaveTo","numOfDays","status","reason","actions"],this.selection=new F.CB(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){const a=this.dialog.open(I,{data:{leaves:this.leaves,action:"add"}});this.subs.sink=a.afterClosed().subscribe(i=>{1===i&&(this.exampleDatabase?.dataChange.value.unshift(this.leavesService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}detailsCall(a){this.dialog.open(I,{data:{leaves:a,action:"details"},height:"85%",width:"45%"})}toggleStar(a){}editCall(a){this.id=a._id;const i=this.dialog.open(I,{data:{leaves:a,action:"edit"}});this.subs.sink=i.afterClosed().subscribe(n=>{if(1===n){const s=this.exampleDatabase?.dataChange.value.findIndex(c=>c._id===this.id);void 0!==s&&void 0!==this.exampleDatabase&&(this.exampleDatabase.dataChange.value[s]=this.leavesService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}accepterDemande(a){this.leavesService.accepterDemandeConge(a).subscribe(i=>{})}refuserDemandeConge(a){this.leavesService.refuserDemandeConge(a).subscribe(i=>{})}deleteItem(a){this.id=a._id;const i=this.dialog.open(we,{height:"270px",width:"330px",data:a});this.subs.sink=i.afterClosed().subscribe(n=>{if(1===n){const s=this.exampleDatabase?.dataChange.value.findIndex(c=>c._id===this.id);void 0!==s&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(s,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){const a=this.selection.selected.length,i=this.dataSource?.renderedData.length;return a===i}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource?.renderedData.forEach(a=>this.selection.select(a))}removeSelectedRows(){const a=this.selection.selected.length;this.selection.selected.forEach(i=>{const n=this.dataSource?.renderedData.findIndex(s=>s===i);this.exampleDatabase?.dataChange.value.splice(n,1),this.refreshTable(),this.selection=new F.CB(!0,[])}),this.showNotification("snackbar-danger",a+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new T(this.httpClient),this.dataSource=new ht(this.exampleDatabase,this.paginator,this.sort,this.leavesService),this.subs.sink=(0,L.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}showNotification(a,i,n,s){this.snackBar.open(i,"",{duration:2e3,verticalPosition:n,horizontalPosition:s,panelClass:a})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(D.Qq),e.rXU(d.bZ),e.rXU(T),e.rXU(N.UG))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-leave-requests"]],viewQuery:function(i,n){if(1&i&&(e.GBs(_.iy,7),e.GBs(p.B4,7),e.GBs(Ne,7),e.GBs(h.Cp,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.paginator=s.first),e.mGM(s=e.lsd())&&(n.sort=s.first),e.mGM(s=e.lsd())&&(n.filter=s.first),e.mGM(s=e.lsd())&&(n.contextMenu=s.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:63,vars:13,consts:[["filter",""],["paginator",""],["menu","matMenu"],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","img"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","table-img tbl-col-width-per-6",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","from"],["matColumnDef","startTime"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","leaveTo"],["matColumnDef","endTime"],["matColumnDef","numOfDays"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","reason"],["matColumnDef","actions"],["class","psl-3 tbl-col-width-per-10",4,"matHeaderCellDef"],["class","psl-3 tbl-col-width-per-10",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"ngClass"],[3,"change","checked","indeterminate","ngClass"],[3,"click","change","checked","ngClass"],["mat-header-cell","",3,"ngClass"],["mat-cell","",1,"table-img","tbl-col-width-per-6"],[1,"mobile-label"],[3,"src"],["mat-sort-header",""],[1,"column-nowrap"],["mat-cell",""],[1,"badge","badge-pill","badge-primary","col-green"],[1,"badge","badge-pill","badge-primary","col-red"],[1,"badge","badge-pill","badge-primary","col-blue"],[1,"truncate-text"],[1,"psl-3","tbl-col-width-per-10"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined","align-middle","msr-2"],["matRipple","",3,"click"],[1,"no-results"]],template:function(i,n){1&i&&(e.j41(0,"section",3)(1,"div",4)(2,"div",5),e.nrm(3,"app-breadcrumb",6),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"div",11)(9,"ul",12)(10,"li",13)(11,"h2"),e.EFF(12,"Leave Requests"),e.k0s()(),e.j41(13,"li",14)(14,"label",15)(15,"i",16),e.EFF(16,"search"),e.k0s()(),e.nrm(17,"input",17,0),e.k0s()()()(),e.j41(19,"div",18)(20,"div",19)(21,"table",20),e.qex(22,21),e.DNE(23,Ge,2,4,"mat-header-cell",22)(24,qe,2,3,"mat-cell",23),e.bVm(),e.qex(25,24),e.DNE(26,Ve,2,1,"mat-header-cell",25)(27,Me,4,1,"mat-cell",26),e.bVm(),e.qex(28,27),e.DNE(29,Ue,2,0,"mat-header-cell",28)(30,Ye,4,1,"mat-cell",29),e.bVm(),e.qex(31,30),e.DNE(32,Ae,2,0,"mat-header-cell",28)(33,Xe,5,4,"mat-cell",29),e.bVm(),e.qex(34,31),e.DNE(35,Oe,2,0,"mat-header-cell",28)(36,Pe,4,1,"mat-cell",32),e.bVm(),e.qex(37,33),e.DNE(38,He,2,0,"mat-header-cell",28)(39,ze,4,1,"mat-cell",29),e.bVm(),e.qex(40,34),e.DNE(41,Je,2,0,"mat-header-cell",28)(42,Qe,5,4,"mat-cell",29),e.bVm(),e.qex(43,35),e.DNE(44,Ze,2,0,"mat-header-cell",28)(45,Ke,4,1,"mat-cell",32),e.bVm(),e.qex(46,36),e.DNE(47,We,2,0,"mat-header-cell",28)(48,et,4,1,"mat-cell",32),e.bVm(),e.qex(49,37),e.DNE(50,tt,2,0,"mat-header-cell",28)(51,it,6,3,"mat-cell",38),e.bVm(),e.qex(52,39),e.DNE(53,st,2,0,"mat-header-cell",28)(54,ot,5,1,"mat-cell",32),e.bVm(),e.qex(55,40),e.DNE(56,rt,2,0,"mat-header-cell",41)(57,ct,16,1,"mat-cell",42),e.bVm(),e.DNE(58,mt,1,0,"mat-header-row",43)(59,dt,1,2,"mat-row",44),e.k0s(),e.DNE(60,pt,2,2,"div",45),e.nrm(61,"mat-paginator",46,1),e.k0s()()()()()()()),2&i&&(e.R7$(3),e.Y8G("title","Leave Requests")("items",e.lJ4(11,Ie))("active_item","Leave Requests"),e.R7$(18),e.Y8G("dataSource",n.dataSource),e.R7$(37),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.vxM(60,null!=n.exampleDatabase&&n.exampleDatabase.isTblLoading?-1:60),e.R7$(),e.Y8G("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.lJ4(12,Be)))},dependencies:[$.D,$e.uc,v.Hl,v.iY,E.m_,E.An,o.tP,o.Zl,o.tL,o.ji,o.cC,o.YV,o.iL,o.KS,o.$R,o.YZ,o.NB,p.NQ,p.B4,p.aE,C.YU,U.g7,U.So,h.Cn,h.kk,h.fb,h.Cp,g.pZ,g.r6,x.D6,_.Ou,_.iy,C.vh]})}return t})();class ht extends F.qS{get filter(){return this.filterChange.value}set filter(l){this.filterChange.next(l)}constructor(l,a,i,n){super(),this.exampleDatabase=l,this.paginator=a,this._sort=i,this.leaveS=n,this.filterChange=new b.t(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){return(0,S.h)(this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page).pipe((0,Ce.n)(()=>this.leaveS.getAllUserswithconge()),(0,w.T)(a=>{const i=[];a.forEach(c=>{const y=c.name;c.leaves.forEach(u=>{u.userName=y,i.push(u)})}),this.filteredData=i.slice().filter(c=>(c.startDate+c.startTime+c.endDate+c.endTime+c.leaveType+c.status+c.reason).toLowerCase().includes(this.filter.toLowerCase()));const n=this.sortData(this.filteredData.slice()),s=this.paginator.pageIndex*this.paginator.pageSize;return this.renderedData=n.slice(s,s+this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(l){return this._sort.active&&""!==this._sort.direction?l.sort((a,i)=>{let n="",s="";switch(this._sort.active){case"id":[n,s]=[a._id,i._id];break;case"startDate":[n,s]=[a.startDate,i.startDate];break;case"leaveType":[n,s]=[a.leaveType,i.leaveType];break;case"leaveTo":[n,s]=[a.endDate,i.endDate];break;case"status":[n,s]=[a.status,i.status];break;case"reason":[n,s]=[a.reason,i.reason]}return((isNaN(+n)?n:+n)<(isNaN(+s)?s:+s)?-1:1)*("asc"===this._sort.direction?1:-1)}):l}}let Y=(()=>{class t extends k.U{constructor(a){super(),this.httpClient=a,this.API_URL="assets/data/leave-types.json",this.isTblLoading=!0,this.dataChange=new b.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllLeavess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:a=>{this.isTblLoading=!1,this.dataChange.next(a)},error:a=>{this.isTblLoading=!1,console.log(a.name+" "+a.message)}})}static#e=this.\u0275fac=function(i){return new(i||t)(e.KVO(D.Qq))};static#t=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ft=["filter"],_t=()=>["Leaves"],vt=()=>[5,10,25,100];function gt(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Id "),e.k0s())}function Ft(t,l){if(1&t&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&t){const a=l.$implicit;e.R7$(),e.JRh(a.id)}}function Ct(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Leave Name "),e.k0s())}function bt(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",42),e.EFF(2,"Leave Name:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI(" ",a.leave_name," ")}}function kt(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Leave Type "),e.k0s())}function Dt(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",42),e.EFF(2,"Leave Type:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI("",a.type," ")}}function Et(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Leave Unit "),e.k0s())}function xt(t,l){if(1&t&&(e.j41(0,"mat-cell")(1,"span",42),e.EFF(2,"Leave Unit:"),e.k0s(),e.EFF(3),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.SpI(" ",a.leave_unit," ")}}function Rt(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1," Status "),e.k0s())}function Tt(t,l){if(1&t&&(e.j41(0,"div")(1,"span",44),e.EFF(2),e.k0s()()),2&t){const a=e.XpG().$implicit;e.R7$(2),e.SpI(" ",a.status,"")}}function jt(t,l){if(1&t&&(e.j41(0,"div")(1,"span",45),e.EFF(2),e.k0s()()),2&t){const a=e.XpG().$implicit;e.R7$(2),e.SpI(" ",a.status,"")}}function yt(t,l){if(1&t&&(e.j41(0,"mat-cell",43)(1,"span",42),e.EFF(2,"Status:"),e.k0s(),e.DNE(3,Tt,3,1,"div")(4,jt,3,1,"div"),e.k0s()),2&t){const a=l.$implicit;e.R7$(3),e.vxM(3,"Active"===a.status?3:-1),e.R7$(),e.vxM(4,"Deactive"===a.status?4:-1)}}function Lt(t,l){1&t&&(e.j41(0,"mat-header-cell",41),e.EFF(1,"Note "),e.k0s())}function St(t,l){if(1&t&&(e.j41(0,"mat-cell",46)(1,"span",47)(2,"span",42),e.EFF(3,"Note:"),e.k0s(),e.EFF(4),e.k0s()()),2&t){const a=l.$implicit;e.R7$(4),e.JRh(a.note)}}function wt(t,l){1&t&&(e.j41(0,"mat-header-cell",48),e.EFF(1," Actions "),e.k0s())}function $t(t,l){if(1&t){const a=e.RV6();e.j41(0,"mat-cell",48)(1,"button",49),e.bIt("click",function(n){return e.eBV(a),e.Njj(n.stopPropagation())}),e.j41(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.j41(4,"mat-menu",null,2)(6,"button",50)(7,"i",51),e.EFF(8,"create"),e.k0s(),e.j41(9,"span"),e.EFF(10,"Edit Contact"),e.k0s()(),e.j41(11,"button",50)(12,"i",51),e.EFF(13,"delete_forever"),e.k0s(),e.j41(14,"span"),e.EFF(15,"Delete Contact"),e.k0s()()()()}if(2&t){const a=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",a)}}function Nt(t,l){1&t&&e.nrm(0,"mat-header-row")}function It(t,l){1&t&&e.nrm(0,"mat-row",52),2&t&&e.xc7("cursor","pointer")}function Bt(t,l){1&t&&(e.j41(0,"div",38),e.nrm(1,"mat-progress-spinner",53),e.k0s()),2&t&&(e.R7$(),e.Y8G("diameter",40))}function Gt(t,l){if(1&t&&(e.j41(0,"div",54),e.EFF(1," No results "),e.k0s()),2&t){const a=e.XpG();e.xc7("display",0===a.dataSource.renderedData.length?"":"none")}}let qt=(()=>{class t extends k.U{constructor(a,i,n,s){super(),this.httpClient=a,this.dialog=i,this.leavesService=n,this.snackBar=s,this.filterToggle=!1,this.displayedColumns=["leave_name","type","leave_unit","status","note","actions"],this.selection=new F.CB(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}toggleStar(a){console.log(a)}loadData(){this.exampleDatabase=new Y(this.httpClient),this.dataSource=new Vt(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,L.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(D.Qq),e.rXU(d.bZ),e.rXU(Y),e.rXU(N.UG))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-leave-types"]],viewQuery:function(i,n){if(1&i&&(e.GBs(_.iy,7),e.GBs(p.B4,7),e.GBs(ft,7),e.GBs(h.Cp,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.paginator=s.first),e.mGM(s=e.lsd())&&(n.sort=s.first),e.mGM(s=e.lsd())&&(n.filter=s.first),e.mGM(s=e.lsd())&&(n.contextMenu=s.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:52,vars:14,consts:[["filter",""],["paginator",""],["menu","matMenu"],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-md-12"],[1,"tabbable-line"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","leave_name"],["matColumnDef","type"],["matColumnDef","leave_unit"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","note"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","actions"],["class","psl-3 tbl-col-width-per-10",4,"matHeaderCellDef"],["class","psl-3 tbl-col-width-per-10",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-sort-header",""],[1,"mobile-label"],["mat-cell",""],[1,"badge","badge-pill","badge-primary","col-green"],[1,"badge","badge-pill","badge-primary","col-red"],[1,"column-nowrap"],[1,"truncate-text"],[1,"psl-3","tbl-col-width-per-10"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item",""],[1,"material-icons-outlined","align-middle","msr-2"],["matRipple",""],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(i,n){1&i&&(e.j41(0,"section",3)(1,"div",4)(2,"div",5),e.nrm(3,"app-breadcrumb",6),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",7)(8,"div",10)(9,"div",11)(10,"div",12)(11,"div",13)(12,"ul",14)(13,"li",15)(14,"h2"),e.EFF(15,"Leave Types"),e.k0s()(),e.j41(16,"li",16)(17,"label",17)(18,"i",18),e.EFF(19,"search"),e.k0s()(),e.nrm(20,"input",19,0),e.k0s()()()(),e.j41(22,"div",20)(23,"div",21)(24,"table",22),e.qex(25,23),e.DNE(26,gt,2,0,"mat-header-cell",24)(27,Ft,2,1,"mat-cell",25),e.bVm(),e.qex(28,26),e.DNE(29,Ct,2,0,"mat-header-cell",24)(30,bt,4,1,"mat-cell",25),e.bVm(),e.qex(31,27),e.DNE(32,kt,2,0,"mat-header-cell",24)(33,Dt,4,1,"mat-cell",25),e.bVm(),e.qex(34,28),e.DNE(35,Et,2,0,"mat-header-cell",24)(36,xt,4,1,"mat-cell",25),e.bVm(),e.qex(37,29),e.DNE(38,Rt,2,0,"mat-header-cell",24)(39,yt,5,2,"mat-cell",30),e.bVm(),e.qex(40,31),e.DNE(41,Lt,2,0,"mat-header-cell",24)(42,St,5,1,"mat-cell",32),e.bVm(),e.qex(43,33),e.DNE(44,wt,2,0,"mat-header-cell",34)(45,$t,16,1,"mat-cell",35),e.bVm(),e.DNE(46,Nt,1,0,"mat-header-row",36)(47,It,1,2,"mat-row",37),e.k0s(),e.DNE(48,Bt,2,1,"div",38)(49,Gt,2,2,"div",39),e.nrm(50,"mat-paginator",40,1),e.k0s()()()()()()()()()()),2&i&&(e.R7$(3),e.Y8G("title","Leave Types")("items",e.lJ4(12,_t))("active_item","Leave Types"),e.R7$(21),e.Y8G("dataSource",n.dataSource),e.R7$(22),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.vxM(48,null!=n.exampleDatabase&&n.exampleDatabase.isTblLoading?48:-1),e.R7$(),e.vxM(49,null!=n.exampleDatabase&&n.exampleDatabase.isTblLoading?-1:49),e.R7$(),e.Y8G("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.lJ4(13,vt)))},dependencies:[$.D,o.tP,o.Zl,o.tL,o.ji,o.cC,o.YV,o.iL,o.KS,o.$R,o.YZ,o.NB,p.NQ,p.B4,p.aE,v.Hl,v.iY,h.Cn,h.kk,h.fb,h.Cp,E.m_,E.An,g.pZ,g.r6,x.D6,x.LG,_.Ou,_.iy]})}return t})();class Vt extends F.qS{get filter(){return this.filterChange.value}set filter(l){this.filterChange.next(l)}constructor(l,a,i){super(),this.exampleDatabase=l,this.paginator=a,this._sort=i,this.filterChange=new b.t(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const l=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllLeavess(),(0,S.h)(...l).pipe((0,w.T)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(n=>-1!==(n.leave_name+n.leave_unit+n.type+n.status).toLowerCase().indexOf(this.filter.toLowerCase()));const a=this.sortData(this.filteredData.slice());return this.renderedData=a.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(l){return this._sort.active&&""!==this._sort.direction?l.sort((a,i)=>{let n="",s="";switch(this._sort.active){case"id":[n,s]=[a.id,i.id];break;case"leave_name":[n,s]=[a.leave_name,i.leave_name];break;case"type":[n,s]=[a.type,i.type];break;case"leaveTo":[n,s]=[a.leave_unit,i.leave_unit];break;case"status":[n,s]=[a.status,i.status]}return((isNaN(+n)?n:+n)<(isNaN(+s)?s:+s)?-1:1)*("asc"===this._sort.direction?1:-1)}):l}}const Ut=[{path:"leave-requests",component:ut},{path:"leave-balance",component:ge},{path:"leave-types",component:qt},{path:"**",component:r(12053).X}]}}]);