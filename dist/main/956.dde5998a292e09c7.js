"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[956],{18956:(X,k,m)=>{m.r(k),m.d(k,{ADMIN_DEPARTEMENT_ROUTE:()=>$e});var h=m(14619),T=m(35780),y=m(84412),F=m(99437),x=m(18810),g=m(88141),e=m(54438),v=m(21626);let f=(()=>{class o extends h.U{constructor(t){super(),this.httpClient=t,this.API_URL="https://backdeploy-7y83.onrender.com/departements",this.isTblLoading=!0,this.dataChange=new y.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllEmployeess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:t=>{this.isTblLoading=!1,this.dataChange.next(t)},error:t=>{this.isTblLoading=!1,console.log(t.name+" "+t.message)}})}addDepartement(t){return this.httpClient.post(this.API_URL,t).pipe((0,F.W)(a=>(console.error("Error adding company:",a),(0,x.$)(a))))}addEmployees(t){this.dialogData=t}getDepartementById(t){return this.httpClient.get(`${this.API_URL}/${t}`)}updateEmployees(t){return this.httpClient.put(`${this.API_URL}/${t._id}`,t).pipe((0,g.M)(n=>{console.log("Updated employee:",n),this.dialogData=n}),(0,F.W)(n=>{throw console.error("Error updating employee",n),n}))}deleteDepartment(t){return this.httpClient.delete(`${this.API_URL}/${t}`)}static#e=this.\u0275fac=function(a){return new(a||o)(e.KVO(v.Qq))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var C=m(45024),R=m(96695),j=m(2042),b=m(59115),r=m(89417);class V{}var D=m(75351),u=m(88834),N=m(99213),p=m(32102),A=m(99631),$=m(25084),_=m(60177);function Y(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Name is required "),e.k0s())}let w=(()=>{class o{constructor(t,a,n,l){if(this.dialogRef=t,this.data=a,this.employeesService=n,this.fb=l,this.formControl=new r.hs("",[r.k0.required]),this.employeesForm=new r.J3({}),console.log("Employee ID:",a.id),this.action=a.action,"edit"===this.action&&this.data.id)this.employeesService.getDepartementById(a.id).subscribe(s=>{console.log(s),s.name=s.name.toUpperCase(),this.dialogTitle=s.name,this.employees=s,this.initEmployeeForm(),this.employeesForm.patchValue({_id:this.employees._id,name:this.employees.name,description:this.employees.description,totalEmployees:this.employees.totalEmployees,vacantPositions:this.employees.vacantPositions,recruitmentNeeds:this.employees.recruitmentNeeds,budgetAllocated:this.employees.budgetAllocated,salaryExpenditure:this.employees.salaryExpenditure,trainingExpenditure:this.employees.trainingExpenditure})});else{this.dialogTitle="New Employees";const s=new V;this.employees=s,this.initEmployeeForm()}}ngOnInit(){if(this.fb.group({name:[this.employees.name,r.k0.required],description:[this.employees.name,r.k0.required],totalEmployees:[this.employees.totalEmployees,r.k0.required],vacantPositions:[this.employees.vacantPositions,r.k0.required],recruitmentNeeds:[this.employees.recruitmentNeeds,r.k0.required],budgetAllocated:[this.employees.budgetAllocated,r.k0.required],salaryExpenditure:[this.employees.salaryExpenditure,r.k0.required],trainingExpenditure:[this.employees.trainingExpenditure,r.k0.required]}),"edit"===this.action&&this.data.id)this.employeesService.getDepartementById(this.data.id).subscribe(t=>{console.log(t),t.name=t.name.toUpperCase(),this.dialogTitle=t.name,this.employees=t,this.initEmployeeForm(),this.employeesForm.patchValue({_id:this.employees._id,name:this.employees.name,description:this.employees.description,totalEmployees:this.employees.totalEmployees,vacantPositions:this.employees.vacantPositions,recruitmentNeeds:this.employees.recruitmentNeeds,budgetAllocated:this.employees.budgetAllocated,salaryExpenditure:this.employees.salaryExpenditure,trainingExpenditure:this.employees.trainingExpenditure}),this.employeesForm=this.createContactForm()});else{this.dialogTitle="New Employees";const t=new V;this.employees=t,this.initEmployeeForm()}}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({_id:[this.employees._id],name:[this.employees.name],description:[this.employees.description],totalEmployees:[this.employees.totalEmployees],vacantPositions:[this.employees.vacantPositions],recruitmentNeeds:[this.employees.recruitmentNeeds],budgetAllocated:[this.employees.budgetAllocated],salaryExpenditure:[this.employees.salaryExpenditure],trainingExpenditure:[this.employees.trainingExpenditure]})}initEmployeeForm(){this.employeesForm=this.createContactForm()}submit(){if("edit"===this.action){console.log("sss",this.employeesForm.value);const t=this.employeesForm.getRawValue();this.employeesService.updateEmployees(t).subscribe(a=>{console.log("Employee updated successfully",a),this.dialogRef.close(),alert("Updated successfully")},a=>{console.error("Error updating employee",a)})}}onNoClick(){this.dialogRef.close()}confirmAdd(){const t=this.employeesForm.getRawValue();this.employeesService.addDepartement(t).subscribe(a=>{console.log("Department added successfully",a),this.dialogRef.close(),alert("Department added successfully")},a=>{console.error("Error adding department",a)})}static#e=this.\u0275fac=function(a){return new(a||o)(e.rXU(D.CP),e.rXU(D.Vh),e.rXU(f),e.rXU(r.ze))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-form-dialog"]],standalone:!0,features:[e.aNF],decls:79,vars:4,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","name","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],[4,"ngIf"],["matInput","","formControlName","description"],["matInput","","formControlName","totalEmployees"],["matInput","","formControlName","vacantPositions"],["matInput","","formControlName","recruitmentNeeds"],["matInput","","formControlName","budgetAllocated"],["matInput","","formControlName","salaryExpenditure"],["matInput","","formControlName","trainingExpenditure"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["align","end",1,"example-button-row"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","warn","type","button","tabindex","-1",3,"click"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.EFF(5),e.k0s()()(),e.j41(6,"button",5),e.bIt("click",function(){return n.dialogRef.close()}),e.j41(7,"mat-icon"),e.EFF(8,"close"),e.k0s()()(),e.j41(9,"div",6)(10,"form",7),e.bIt("ngSubmit",function(){return n.submit()}),e.j41(11,"div",8)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),e.EFF(15,"Name"),e.k0s(),e.nrm(16,"input",11),e.j41(17,"mat-icon",12),e.EFF(18,"face"),e.k0s(),e.DNE(19,Y,2,0,"mat-error",13),e.k0s()(),e.j41(20,"div",9)(21,"mat-form-field",10)(22,"mat-label"),e.EFF(23,"Description"),e.k0s(),e.nrm(24,"input",14),e.j41(25,"mat-icon",12),e.EFF(26,"description"),e.k0s()()()(),e.j41(27,"div",8)(28,"div",9)(29,"mat-form-field",10)(30,"mat-label"),e.EFF(31,"Total Employees"),e.k0s(),e.nrm(32,"input",15),e.j41(33,"mat-icon",12),e.EFF(34,"people"),e.k0s()()(),e.j41(35,"div",9)(36,"mat-form-field",10)(37,"mat-label"),e.EFF(38,"Vacant Positions"),e.k0s(),e.nrm(39,"input",16),e.j41(40,"mat-icon",12),e.EFF(41,"work_off"),e.k0s()()()(),e.j41(42,"div",8)(43,"div",9)(44,"mat-form-field",10)(45,"mat-label"),e.EFF(46,"Recruitment Needs"),e.k0s(),e.nrm(47,"input",17),e.j41(48,"mat-icon",12),e.EFF(49,"how_to_reg"),e.k0s()()(),e.j41(50,"div",9)(51,"mat-form-field",10)(52,"mat-label"),e.EFF(53,"Budget Allocated"),e.k0s(),e.nrm(54,"input",18),e.j41(55,"mat-icon",12),e.EFF(56,"attach_money"),e.k0s()()()(),e.j41(57,"div",8)(58,"div",9)(59,"mat-form-field",10)(60,"mat-label"),e.EFF(61,"Salary Expenditure"),e.k0s(),e.nrm(62,"input",19),e.j41(63,"mat-icon",12),e.EFF(64,"account_balance_wallet"),e.k0s()()(),e.j41(65,"div",9)(66,"mat-form-field",10)(67,"mat-label"),e.EFF(68,"Training Expenditure"),e.k0s(),e.nrm(69,"input",20),e.j41(70,"mat-icon",12),e.EFF(71,"school"),e.k0s()()()(),e.j41(72,"div",8)(73,"div",21)(74,"div",22)(75,"button",23),e.EFF(76,"Save"),e.k0s(),e.j41(77,"button",24),e.bIt("click",function(){return n.onNoClick()}),e.EFF(78,"Cancel"),e.k0s()()()()()()()),2&a){let l;e.R7$(5),e.SpI(" ",n.dialogTitle," "),e.R7$(5),e.Y8G("formGroup",n.employeesForm),e.R7$(9),e.Y8G("ngIf",null==(l=n.employeesForm.get("name"))?null:l.hasError("required")),e.R7$(56),e.Y8G("disabled",!n.employeesForm.valid)}},dependencies:[u.Hl,u.$z,u.iY,N.m_,N.An,D.Yi,r.YN,r.qT,r.me,r.BC,r.cb,r.YS,r.X1,r.j4,r.JD,p.RG,p.rl,p.nJ,p.TL,p.yw,A.fS,A.fg,$.X6,_.MD,_.bT]})}return o})();var U=m(33726),L=m(57786),H=m(96354),z=m(34850),G=m(8173),M=m(14823),d=m(9159),B=m(82765),O=m(67949),I=m(86600),P=m(9183),J=m(95416);const q=["filter"],W=()=>["Departement"],Q=()=>[5,10,25,100];function Z(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-header-cell",59)(1,"mat-checkbox",60),e.bIt("change",function(n){e.eBV(t);const l=e.XpG();return e.Njj(n?l.masterToggle():null)}),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("ngClass","tbl-col-width-per-7"),e.R7$(),e.Y8G("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("ngClass","tbl-checkbox")}}function K(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-cell",59)(1,"mat-checkbox",61),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())})("change",function(n){const l=e.eBV(t).$implicit,s=e.XpG();return e.Njj(n?s.selection.toggle(l):null)}),e.k0s()()}if(2&o){const t=i.$implicit,a=e.XpG();e.Y8G("ngClass","tbl-col-width-per-7"),e.R7$(),e.Y8G("checked",a.selection.isSelected(t))("ngClass","tbl-checkbox")}}function ee(o,i){1&o&&(e.j41(0,"mat-header-cell",62),e.EFF(1,"Id"),e.k0s())}function te(o,i){if(1&o&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.R7$(),e.JRh(t.id)}}function ne(o,i){1&o&&(e.j41(0,"mat-header-cell",62),e.EFF(1,"Name"),e.k0s())}function ae(o,i){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function oe(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-cell",63),e.bIt("contextmenu",function(n){const l=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onContextMenu(n,l))}),e.j41(1,"span",64),e.EFF(2,"Name:"),e.k0s(),e.DNE(3,ae,2,1,"ng-container",65),e.k0s()}if(2&o){const t=i.$implicit,a=e.XpG();e.R7$(3),e.Y8G("ngIf",!a.searchName||t.name.toLowerCase().includes(a.searchName.toLowerCase()))}}function le(o,i){1&o&&(e.j41(0,"mat-header-cell",62),e.EFF(1,"description"),e.k0s())}function ie(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-cell",63),e.bIt("contextmenu",function(n){const l=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onContextMenu(n,l))}),e.j41(1,"span",64),e.EFF(2,"description:"),e.k0s(),e.EFF(3),e.k0s()}if(2&o){const t=i.$implicit;e.R7$(3),e.SpI("",t.description," ")}}function se(o,i){1&o&&(e.j41(0,"mat-header-cell",62),e.EFF(1,"totalEmployees"),e.k0s())}function re(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-cell",63),e.bIt("contextmenu",function(n){const l=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onContextMenu(n,l))}),e.j41(1,"span",64),e.EFF(2,"totalEmployees:"),e.k0s(),e.EFF(3),e.k0s()}if(2&o){const t=i.$implicit;e.R7$(3),e.JRh(t.totalEmployees)}}function me(o,i){1&o&&(e.j41(0,"mat-header-cell",62),e.EFF(1,"vacantPositions"),e.k0s())}function ce(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-cell",63),e.bIt("contextmenu",function(n){const l=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onContextMenu(n,l))}),e.j41(1,"span",64),e.EFF(2,"vacantPositions:"),e.k0s(),e.EFF(3),e.k0s()}if(2&o){const t=i.$implicit;e.R7$(3),e.SpI(" ",t.vacantPositions,"")}}function de(o,i){1&o&&(e.j41(0,"mat-header-cell",62),e.EFF(1,"recruitmentNeeds"),e.k0s())}function pe(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-cell",63),e.bIt("contextmenu",function(n){const l=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onContextMenu(n,l))}),e.j41(1,"span",64),e.EFF(2,"recruitmentNeeds:"),e.k0s(),e.EFF(3),e.k0s()}if(2&o){const t=i.$implicit;e.R7$(3),e.JRh(t.recruitmentNeeds)}}function ue(o,i){1&o&&(e.j41(0,"mat-header-cell",62),e.EFF(1,"budgetAllocated"),e.k0s())}function he(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-cell",63),e.bIt("contextmenu",function(n){const l=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onContextMenu(n,l))}),e.j41(1,"span",64),e.EFF(2,"budgetAllocated:"),e.k0s(),e.EFF(3),e.k0s()}if(2&o){const t=i.$implicit;e.R7$(3),e.SpI(" ",t.budgetAllocated,"")}}function fe(o,i){1&o&&(e.j41(0,"mat-header-cell",62),e.EFF(1,"salaryExpenditure"),e.k0s())}function _e(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-cell",63),e.bIt("contextmenu",function(n){const l=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onContextMenu(n,l))}),e.j41(1,"span",64),e.EFF(2,"salaryExpenditure:"),e.k0s(),e.EFF(3),e.k0s()}if(2&o){const t=i.$implicit;e.R7$(3),e.SpI(" ",t.salaryExpenditure,"")}}function ge(o,i){1&o&&(e.j41(0,"mat-header-cell",62),e.EFF(1,"trainingExpenditure"),e.k0s())}function be(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-cell",63),e.bIt("contextmenu",function(n){const l=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onContextMenu(n,l))}),e.j41(1,"span",64),e.EFF(2,"trainingExpenditure:"),e.k0s(),e.EFF(3),e.k0s()}if(2&o){const t=i.$implicit;e.R7$(3),e.SpI(" ",t.trainingExpenditure,"")}}function Ee(o,i){1&o&&(e.j41(0,"mat-header-cell",66),e.EFF(1,"Actions"),e.k0s())}function Fe(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-cell",66)(1,"button",67),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())})("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editCall(n))}),e.nrm(2,"app-feather-icons",68),e.k0s(),e.j41(3,"button",69),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())})("click",function(){const n=e.eBV(t),l=n.$implicit,s=n.index,c=e.XpG();return e.Njj(c.deleteItem(s,l))}),e.nrm(4,"app-feather-icons",68),e.k0s()()}2&o&&(e.R7$(2),e.HbH("tbl-fav-edit"),e.Y8G("icon","edit"),e.R7$(2),e.HbH("tbl-fav-delete"),e.Y8G("icon","trash-2"))}function xe(o,i){1&o&&e.nrm(0,"mat-header-row")}function Ce(o,i){if(1&o){const t=e.RV6();e.j41(0,"mat-row",70),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editCall(n))}),e.k0s()}2&o&&e.xc7("cursor","pointer")}function ke(o,i){1&o&&(e.j41(0,"div",53),e.nrm(1,"mat-progress-spinner",71),e.k0s()),2&o&&(e.R7$(),e.Y8G("diameter",40))}function ye(o,i){if(1&o){const t=e.RV6();e.j41(0,"button",72),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew())}),e.j41(1,"mat-icon"),e.EFF(2,"add_box"),e.k0s(),e.j41(3,"span"),e.EFF(4,"Add Record"),e.k0s()(),e.j41(5,"button",72),e.bIt("click",function(){const n=e.eBV(t).item,l=e.XpG();return e.Njj(l.editCall(n))}),e.j41(6,"mat-icon"),e.EFF(7,"create"),e.k0s(),e.j41(8,"span"),e.EFF(9,"Edit Record"),e.k0s()(),e.j41(10,"button",72),e.bIt("click",function(){const n=e.eBV(t).item,l=e.XpG();return e.Njj(l.deleteItem(n.id,n))}),e.j41(11,"mat-icon"),e.EFF(12,"delete"),e.k0s(),e.j41(13,"span"),e.EFF(14,"Delete Record"),e.k0s()(),e.j41(15,"button",72),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.refresh())}),e.j41(16,"mat-icon"),e.EFF(17,"refresh"),e.k0s(),e.j41(18,"span"),e.EFF(19,"Refresh Record"),e.k0s()(),e.j41(20,"button",73)(21,"mat-icon"),e.EFF(22,"no_encryption"),e.k0s(),e.j41(23,"span"),e.EFF(24,"Disable"),e.k0s()(),e.j41(25,"button",74)(26,"mat-icon"),e.EFF(27,"list_alt"),e.k0s(),e.j41(28,"span"),e.EFF(29," Nested Menu"),e.k0s()()}if(2&o){e.XpG();const t=e.sdS(83);e.R7$(25),e.Y8G("matMenuTriggerFor",t)}}function ve(o,i){if(1&o&&(e.j41(0,"div",75),e.EFF(1," No results "),e.k0s()),2&o){const t=e.XpG();e.xc7("display",0===t.dataSource.renderedData.length?"":"none")}}let je=(()=>{class o extends h.U{constructor(t,a,n,l){super(),this.httpClient=t,this.dialog=a,this.employeesService=n,this.snackBar=l,this.displayedColumns=["select","name","description","totalEmployees","vacantPositions","recruitmentNeeds","budgetAllocated","salaryExpenditure","trainingExpenditure","actions"],this.selection=new C.CB(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let t;t="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const a=this.dialog.open(w,{data:{employees:this.employees,action:"add"},direction:t});this.subs.sink=a.afterClosed().subscribe(n=>{1===n&&(this.exampleDatabase?.dataChange.value.unshift(this.employeesService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}editCall(t){let a;this.id=t._id,a="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const n=this.dialog.open(w,{data:{id:t._id,action:"edit"},direction:a});this.subs.sink=n.afterClosed().subscribe(l=>{if(1===l){const s=this.exampleDatabase?.dataChange.value.findIndex(c=>c._id===this.id);void 0!==s&&void 0!==this.exampleDatabase&&(this.exampleDatabase.dataChange.value[s]=this.employeesService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}deleteItem(t,a){let n;this.index=t,this.id=a._id,console.log("ID du d\xe9partement :",this.id),n="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const l=this.dialog.open(z.X,{height:"270px",width:"300px",data:{id:a._id,name:a.name,description:a.description,action:"trash-2"},direction:n});this.subs.sink=l.afterClosed().subscribe(s=>{if(1===s){const c=this.exampleDatabase?.dataChange.value.findIndex(E=>E._id===this.id);void 0!==c&&void 0!==this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(c,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){return this.selection.selected.length===this.dataSource.renderedData.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(t=>this.selection.select(t))}removeSelectedRows(){const t=this.selection.selected.length;this.selection.selected.forEach(a=>{const n=this.dataSource.renderedData.findIndex(l=>l===a);this.exampleDatabase?.dataChange.value.splice(n,1),this.refreshTable(),this.selection=new C.CB(!0,[])}),this.showNotification("snackbar-danger",t+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new f(this.httpClient),this.dataSource=new De(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,U.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}exportExcel(){const t=this.dataSource.filteredData.map(a=>({Name:a.name,Description:a.description,totalEmployees:a.totalEmployees,vacantPositions:a.vacantPositions,recruitmentNeeds:a.recruitmentNeeds,budgetAllocated:a.budgetAllocated,salaryExpenditure:a.salaryExpenditure,trainingExpenditure:a.trainingExpenditure}));T.H.exportToExcel(t,"excel")}showNotification(t,a,n,l){this.snackBar.open(a,"",{duration:2e3,verticalPosition:n,horizontalPosition:l,panelClass:t})}onContextMenu(t,a){t.preventDefault(),this.contextMenuPosition.x=t.clientX+"px",this.contextMenuPosition.y=t.clientY+"px",void 0!==this.contextMenu&&null!==this.contextMenu.menu&&(this.contextMenu.menuData={item:a},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu())}static#e=this.\u0275fac=function(a){return new(a||o)(e.rXU(v.Qq),e.rXU(D.bZ),e.rXU(f),e.rXU(J.UG))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-alldepartements"]],viewQuery:function(a,n){if(1&a&&(e.GBs(R.iy,7),e.GBs(j.B4,7),e.GBs(q,7),e.GBs(b.Cp,5)),2&a){let l;e.mGM(l=e.lsd())&&(n.paginator=l.first),e.mGM(l=e.lsd())&&(n.sort=l.first),e.mGM(l=e.lsd())&&(n.filter=l.first),e.mGM(l=e.lsd())&&(n.contextMenu=l.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:102,vars:21,consts:[["filter",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"ngModelChange","ngModel"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],[3,"contextmenu",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","totalEmployees"],["matColumnDef","vacantPositions"],["matColumnDef","recruitmentNeeds"],["matColumnDef","budgetAllocated"],["matColumnDef","salaryExpenditure"],["matColumnDef","trainingExpenditure"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"ngClass"],[3,"change","checked","indeterminate","ngClass"],[3,"click","change","checked","ngClass"],["mat-sort-header",""],[3,"contextmenu"],[1,"mobile-label"],[4,"ngIf"],[1,"pr-0"],["mat-icon-button","","color","accent","matTooltip","Edit",1,"tbl-action-btn",3,"click"],[3,"icon"],["mat-icon-button","","color","accent","matTooltip","Delete",1,"tbl-action-btn",3,"click"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(a,n){if(1&a){const l=e.RV6();e.j41(0,"section",4)(1,"div",5)(2,"div",6),e.nrm(3,"app-breadcrumb",7),e.k0s(),e.j41(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12)(9,"ul",13)(10,"li",14)(11,"h2"),e.EFF(12,"Employees"),e.k0s()(),e.j41(13,"li",15)(14,"label",16)(15,"i",17),e.EFF(16,"search"),e.k0s()(),e.j41(17,"input",18,0),e.mxI("ngModelChange",function(c){return e.eBV(l),e.DH7(n.searchName,c)||(n.searchName=c),e.Njj(c)}),e.k0s()()()(),e.j41(19,"div",19)(20,"ul",20)(21,"li",21)(22,"div",22)(23,"button",23),e.bIt("click",function(){return e.eBV(l),e.Njj(n.addNew())}),e.j41(24,"mat-icon",24),e.EFF(25,"add"),e.k0s()()()(),e.j41(26,"li",21)(27,"div",25)(28,"button",23),e.bIt("click",function(){return e.eBV(l),e.Njj(n.refresh())}),e.j41(29,"mat-icon",24),e.EFF(30,"refresh"),e.k0s()()()(),e.j41(31,"li",21)(32,"div",26)(33,"button",27),e.bIt("click",function(){return e.eBV(l),e.Njj(n.removeSelectedRows())}),e.j41(34,"mat-icon",24),e.EFF(35,"delete "),e.k0s()()()(),e.j41(36,"li")(37,"div",28)(38,"img",29),e.bIt("click",function(){return e.eBV(l),e.Njj(n.exportExcel())}),e.k0s()()()()()(),e.j41(39,"div",30)(40,"div",31)(41,"table",32),e.qex(42,33),e.DNE(43,Z,2,4,"mat-header-cell",34)(44,K,2,3,"mat-cell",35),e.bVm(),e.qex(45,36),e.DNE(46,ee,2,0,"mat-header-cell",37)(47,te,2,1,"mat-cell",38),e.bVm(),e.qex(48,39),e.DNE(49,ne,2,0,"mat-header-cell",37)(50,oe,4,1,"mat-cell",40),e.bVm(),e.qex(51,41),e.DNE(52,le,2,0,"mat-header-cell",37)(53,ie,4,1,"mat-cell",40),e.bVm(),e.qex(54,42),e.DNE(55,se,2,0,"mat-header-cell",37)(56,re,4,1,"mat-cell",40),e.bVm(),e.qex(57,43),e.DNE(58,me,2,0,"mat-header-cell",37)(59,ce,4,1,"mat-cell",40),e.bVm(),e.qex(60,44),e.DNE(61,de,2,0,"mat-header-cell",37)(62,pe,4,1,"mat-cell",40),e.bVm(),e.qex(63,45),e.DNE(64,ue,2,0,"mat-header-cell",37)(65,he,4,1,"mat-cell",40),e.bVm(),e.qex(66,46),e.DNE(67,fe,2,0,"mat-header-cell",37)(68,_e,4,1,"mat-cell",40),e.bVm(),e.qex(69,47),e.DNE(70,ge,2,0,"mat-header-cell",37)(71,be,4,1,"mat-cell",40),e.bVm(),e.qex(72,48),e.DNE(73,Ee,2,0,"mat-header-cell",49)(74,Fe,5,6,"mat-cell",50),e.bVm(),e.DNE(75,xe,1,0,"mat-header-row",51)(76,Ce,1,2,"mat-row",52),e.k0s(),e.DNE(77,ke,2,1,"div",53),e.nrm(78,"div",54),e.j41(79,"mat-menu",null,1),e.DNE(81,ye,30,1,"ng-template",55),e.k0s(),e.j41(82,"mat-menu",null,2)(84,"button",56)(85,"mat-icon"),e.EFF(86,"mail_outline"),e.k0s(),e.j41(87,"span"),e.EFF(88,"Item 1"),e.k0s()(),e.j41(89,"button",56)(90,"mat-icon"),e.EFF(91,"call"),e.k0s(),e.j41(92,"span"),e.EFF(93,"Item 2"),e.k0s()(),e.j41(94,"button",56)(95,"mat-icon"),e.EFF(96,"chat"),e.k0s(),e.j41(97,"span"),e.EFF(98,"Item 3"),e.k0s()()(),e.DNE(99,ve,2,2,"div",57),e.nrm(100,"mat-paginator",58,3),e.k0s()()()()()()()}if(2&a){const l=e.sdS(80);e.R7$(3),e.Y8G("title","All Employee")("items",e.lJ4(19,W))("active_item","All Employee"),e.R7$(14),e.R50("ngModel",n.searchName),e.R7$(15),e.Y8G("hidden",!n.selection.hasValue()),e.R7$(9),e.Y8G("dataSource",n.dataSource),e.R7$(34),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.vxM(77,null!=n.exampleDatabase&&n.exampleDatabase.isTblLoading?77:-1),e.R7$(),e.xc7("left",n.contextMenuPosition.x)("top",n.contextMenuPosition.y),e.Y8G("matMenuTriggerFor",l),e.R7$(21),e.vxM(99,null!=n.exampleDatabase&&n.exampleDatabase.isTblLoading?-1:99),e.R7$(),e.Y8G("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.lJ4(20,Q))}},dependencies:[G.D,M.uc,M.oV,u.Hl,u.iY,u.$0,N.m_,N.An,d.tP,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,j.NQ,j.B4,j.aE,_.YU,B.g7,B.So,O.h,I.pZ,I.r6,P.D6,P.LG,b.Cn,b.kk,b.fb,b.z8,b.Cp,R.Ou,R.iy,r.YN,r.me,r.BC,r.vS,_.MD,_.bT]})}return o})();class De extends C.qS{get filter(){return this.filterChange.value}set filter(i){this.filterChange.next(i)}constructor(i,t,a){super(),this.exampleDatabase=i,this.paginator=t,this._sort=a,this.filterChange=new y.t(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const i=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllEmployeess(),(0,L.h)(...i).pipe((0,H.T)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(n=>-1!==(n.name+n.description+n.totalEmployees+n.vacantPositions+n.recruitmentNeeds+n.budgetAllocated+n.salaryExpenditure+n.trainingExpenditure).toLowerCase().indexOf(this.filter.toLowerCase()));const t=this.sortData(this.filteredData.slice());return this.renderedData=t.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(i){return this._sort.active&&""!==this._sort.direction?i.sort((t,a)=>{let n="",l="";switch(this._sort.active){case"id":[n,l]=[t._id,a._id];break;case"name":[n,l]=[t.name,a.name];break;case"description":[n,l]=[t.description,a.description];break;case"totalEmployees":[n,l]=[t.totalEmployees,a.totalEmployees];break;case"vacantPositions":[n,l]=[t.vacantPositions,a.vacantPositions];break;case"recruitmentNeeds":[n,l]=[t.recruitmentNeeds,a.recruitmentNeeds];break;case"budgetAllocated":[n,l]=[t.budgetAllocated,a.budgetAllocated];break;case"salaryExpenditure":[n,l]=[t.salaryExpenditure,a.salaryExpenditure];break;case"trainingExpenditure":[n,l]=[t.trainingExpenditure,a.trainingExpenditure]}return((isNaN(+n)?n:+n)<(isNaN(+l)?l:+l)?-1:1)*("asc"===this._sort.direction?1:-1)}):i}}var Ne=m(82798),Ae=m(48032),S=m.n(Ae);const Te=()=>["Companies"];function Re(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Departement name is required "),e.k0s())}function Ie(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Departement name should only contain alphabets "),e.k0s())}function Se(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1," totalEmployees is required "),e.k0s())}function Ve(o,i){1&o&&(e.j41(0,"mat-error"),e.EFF(1," totalEmployees is required "),e.k0s())}const $e=[{path:"alldepartements",component:je},{path:"add-departement",component:(()=>{class o{constructor(t,a){this.fb=t,this.companyService=a,this.hide3=!0,this.agree3=!1,this.docForm=this.fb.group({name:["",[r.k0.required,r.k0.pattern("[a-zA-Z]+")]],description:[""],totalEmployees:["",[r.k0.required]],vacantPositions:["",[r.k0.required]],recruitmentNeeds:["",[r.k0.required]],budgetAllocated:["",[r.k0.required]],salaryExpenditure:["",[r.k0.required]],trainingExpenditure:["",[r.k0.required]]})}cancel(){}formatCurrency(t){const n="$"+t.value.replace(/\D/g,"");t.value=n}onSubmit(){this.docForm.valid?this.companyService.addDepartement(this.docForm.value).subscribe(a=>{console.log("Company added successfully!",a),this.docForm.reset(),S().fire({icon:"success",title:"Succ\xe8s !",text:"L'entreprise a \xe9t\xe9 ajout\xe9e avec succ\xe8s !"})},a=>{console.error("Error adding company:",a),S().fire({icon:"error",title:"Erreur !",text:"Une erreur est survenue lors de l'ajout de l'entreprise."})}):(console.log("Invalid form data"),S().fire({icon:"error",title:"Erreur !",text:"Veuillez remplir tous les champs correctement."}))}static#e=this.\u0275fac=function(a){return new(a||o)(e.rXU(r.ze),e.rXU(f))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-add-departement"]],standalone:!0,features:[e.aNF],decls:78,vars:9,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-3"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","name","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],[4,"ngIf"],["matInput","","formControlName","description"],["matInput","","formControlName","totalEmployees","required",""],["matInput","","formControlName","vacantPositions"],["matInput","","formControlName","recruitmentNeeds"],["matInput","","formControlName","budgetAllocated","id","budgetInput","oninput","formatCurrency(this)","required",""],["matInput","","formControlName","salaryExpenditure"],["matInput","","formControlName","trainingExpenditure"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],["mat-raised-button","","type","submit",1,"btn","btn-primary"],["mat-raised-button","","type","button",1,"btn","btn-danger",3,"click"]],template:function(a,n){if(1&a&&(e.j41(0,"section",0)(1,"div",1)(2,"div",2),e.nrm(3,"app-breadcrumb",3),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),e.EFF(9,"Add Company"),e.k0s()(),e.j41(10,"div",8)(11,"form",9),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(12,"div",10)(13,"div",11)(14,"mat-form-field",12)(15,"mat-label"),e.EFF(16,"Departement Name"),e.k0s(),e.nrm(17,"input",13),e.j41(18,"mat-icon",14),e.EFF(19,"face"),e.k0s(),e.DNE(20,Re,2,0,"mat-error",15)(21,Ie,2,0,"mat-error",15),e.k0s()(),e.j41(22,"div",11)(23,"mat-form-field",12)(24,"mat-label"),e.EFF(25,"Description"),e.k0s(),e.nrm(26,"input",16),e.j41(27,"mat-icon",14),e.EFF(28,"description"),e.k0s()()()(),e.j41(29,"div",10)(30,"div",11)(31,"mat-form-field",12)(32,"mat-label"),e.EFF(33,"totalEmployees"),e.k0s(),e.nrm(34,"input",17),e.j41(35,"mat-icon",14),e.EFF(36,"people"),e.k0s(),e.DNE(37,Se,2,0,"mat-error",15),e.k0s()(),e.j41(38,"div",11)(39,"mat-form-field",12)(40,"mat-label"),e.EFF(41,"vacantPositions"),e.k0s(),e.nrm(42,"input",18),e.j41(43,"mat-icon",14),e.EFF(44,"work_off"),e.k0s()()()(),e.j41(45,"div",10)(46,"div",11)(47,"mat-form-field",12)(48,"mat-label"),e.EFF(49,"recruitmentNeeds"),e.k0s(),e.nrm(50,"input",19),e.j41(51,"mat-icon",14),e.EFF(52,"how_to_reg"),e.k0s()()(),e.j41(53,"div",11)(54,"mat-form-field",12)(55,"mat-label"),e.EFF(56,"budgetAllocated"),e.k0s(),e.nrm(57,"input",20),e.DNE(58,Ve,2,0,"mat-error",15),e.j41(59,"mat-icon",14),e.EFF(60,"attach_money"),e.k0s()()()(),e.j41(61,"div",10)(62,"div",11)(63,"mat-form-field",12)(64,"mat-label"),e.EFF(65,"salaryExpenditure"),e.k0s(),e.nrm(66,"input",21),e.k0s()(),e.j41(67,"div",11)(68,"mat-form-field",12)(69,"mat-label"),e.EFF(70,"trainingExpenditure"),e.k0s(),e.nrm(71,"input",22),e.k0s()()(),e.j41(72,"div",10)(73,"div",23)(74,"button",24),e.EFF(75," Add "),e.k0s(),e.j41(76,"button",25),e.bIt("click",function(){return n.cancel()}),e.EFF(77," Cancel "),e.k0s()()()()()()()()()()),2&a){let l,s,c,E;e.R7$(3),e.Y8G("title","Add Company")("items",e.lJ4(8,Te))("active_item","Add Company"),e.R7$(8),e.Y8G("formGroup",n.docForm),e.R7$(9),e.Y8G("ngIf",(null==(l=n.docForm.get("name"))?null:l.hasError("required"))&&(null==(l=n.docForm.get("name"))?null:l.touched)),e.R7$(),e.Y8G("ngIf",(null==(s=n.docForm.get("name"))?null:s.hasError("pattern"))&&(null==(s=n.docForm.get("name"))?null:s.touched)),e.R7$(16),e.Y8G("ngIf",(null==(c=n.docForm.get("totalEmployees"))?null:c.hasError("required"))&&(null==(c=n.docForm.get("totalEmployees"))?null:c.touched)),e.R7$(21),e.Y8G("ngIf",(null==(E=n.docForm.get("budgetAllocated"))?null:E.hasError("required"))&&(null==(E=n.docForm.get("budgetAllocated"))?null:E.touched))}},dependencies:[G.D,r.YN,r.qT,r.me,r.BC,r.cb,r.YS,r.X1,r.j4,r.JD,p.RG,p.rl,p.nJ,p.TL,p.yw,A.fS,A.fg,Ne.Ve,I.Sy,$.X6,u.Hl,u.$z,_.MD,_.bT]})}return o})()}]},35780:(X,k,m)=>{m.d(k,{H:()=>y});var h=m(62288);class y{static exportToExcel(x,g){const{sheetName:e,fileName:v}=(F=>{const g=F||"ExportResult";return{sheetName:g,fileName:`${g}-${(new Date).toISOString()}`}})(g),f=h.Wp.book_new(),C=h.Wp.json_to_sheet(x);h.Wp.book_append_sheet(f,C,e),h._h(f,`${v}.xlsx`)}}}}]);