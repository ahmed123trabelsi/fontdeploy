"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[76],{34850:(g,p,n)=>{n.d(p,{X:()=>r});var o=n(75351),u=n(88834),a=n(54438),h=n(3876);let r=(()=>{class l{constructor(e,t,d){this.dialogRef=e,this.data=t,this.leadsService=d}onNoClick(){this.dialogRef.close()}confirmDelete(){this.leadsService.deleteLeads(this.data.id)}static#t=this.\u0275fac=function(t){return new(t||l)(a.rXU(o.CP),a.rXU(o.Vh),a.rXU(h.R))};static#e=this.\u0275cmp=a.VBU({type:l,selectors:[["app-delete",5,"j"]],standalone:!0,features:[a.aNF],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(t,d){1&t&&(a.j41(0,"div",0)(1,"h3",1),a.EFF(2,"Are you sure?"),a.k0s(),a.j41(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),a.EFF(8," Name: "),a.k0s(),a.EFF(9),a.k0s()(),a.j41(10,"li")(11,"p")(12,"span",4),a.EFF(13," Department: "),a.k0s(),a.EFF(14),a.k0s()(),a.j41(15,"li")(16,"p")(17,"span",4),a.EFF(18,"Mobile: "),a.k0s(),a.EFF(19),a.k0s()()()(),a.j41(20,"div",5)(21,"button",6),a.bIt("click",function(){return d.confirmDelete()}),a.EFF(22," Delete "),a.k0s(),a.j41(23,"button",7),a.bIt("click",function(){return d.onNoClick()}),a.EFF(24,"Cancel"),a.k0s()()()),2&t&&(a.R7$(9),a.JRh(d.data.name),a.R7$(5),a.JRh(d.data.department),a.R7$(5),a.SpI("",d.data.mobile," "),a.R7$(2),a.Y8G("mat-dialog-close",1))},dependencies:[o.BI,o.Yi,o.E7,u.Hl,u.$z,o.tx]})}return l})()},3876:(g,p,n)=>{n.d(p,{R:()=>r});var o=n(84412),u=n(14619),a=n(54438),h=n(21626);let r=(()=>{class l extends u.U{constructor(e){super(),this.httpClient=e,this.API_URL="assets/data/leads.json",this.isTblLoading=!0,this.dataChange=new o.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllLeadss(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:e=>{this.isTblLoading=!1,this.dataChange.next(e)},error:e=>{this.isTblLoading=!1,console.log(e.name+" "+e.message)}})}addLeads(e){this.dialogData=e}updateLeads(e){this.dialogData=e}deleteLeads(e){console.log(e)}static#t=this.\u0275fac=function(t){return new(t||l)(a.KVO(h.Qq))};static#e=this.\u0275prov=a.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},71185:(g,p,n)=>{n.d(p,{HO:()=>u,uE:()=>h});var o=n(54438);let u=(()=>{class r{transform(s,e){if(null==s)return"";const t=e.length>0?parseInt(e[0],10):20,d=e.length>1?e[1]:"...";return s.length>t?s.substring(0,t)+d:s}static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275pipe=o.EJ8({name:"truncate",type:r,pure:!0,standalone:!0})}return r})(),h=(()=>{class r{transform(s){return s?s.replace(/<[^>]+>/g,""):""}static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275pipe=o.EJ8({name:"stripHtml",type:r,pure:!0,standalone:!0})}return r})()},81291:(g,p,n)=>{n.d(p,{d:()=>r});var o=n(84412),u=n(14619),a=n(54438),h=n(21626);let r=(()=>{class l extends u.U{constructor(e){super(),this.httpClient=e,this.API_URL="assets/data/estimates.json",this.isTblLoading=!0,this.dataChange=new o.t([]),this.apiUrl="https://backdeploy-7y83.onrender.com"}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllEstimatess(){this.subs.sink=this.httpClient.get(this.apiUrl).subscribe({next:e=>{this.isTblLoading=!1,this.dataChange.next(e)},error:e=>{this.isTblLoading=!1,console.log(e.name+" "+e.message)}})}createTask(e){return this.httpClient.post(`${this.apiUrl}/task`,e)}getTasks(){return this.httpClient.get(`${this.apiUrl}/task`)}getTaskById(e){return this.httpClient.get(`${this.apiUrl}/task/${e}`)}updateTask(e,t){return this.httpClient.patch(`${this.apiUrl}/task/${e}`,t)}deleteTask(e){return this.httpClient.delete(`${this.apiUrl}/task/${e}`)}createTask2(e){return this.httpClient.post(`${this.apiUrl}/task/post`,e)}static#t=this.\u0275fac=function(t){return new(t||l)(a.KVO(h.Qq))};static#e=this.\u0275prov=a.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},42962:(g,p,n)=>{n.d(p,{I:()=>l});var o=n(84412),u=n(21626),a=n(18810),h=n(99437),r=n(54438);let l=(()=>{class s{constructor(t){this.httpClient=t,this.API_URL="https://backdeploy-7y83.onrender.com/auth",this.httpOptions={headers:new u.Lr({"Content-Type":"application/json"})},this.dataChange=new o.t([]),this.API_URL1="https://backdeploy-7y83.onrender.com/holidays",this.API_URL2="https://backdeploy-7y83.onrender.com/attendance"}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllCalendars(){return this.httpClient.get(this.API_URL).pipe((0,h.W)(this.errorHandler))}addUpdateCalendar(t){this.dialogData=t}deleteCalendar(t){this.dialogData=t}errorHandler(t){let d="";return d=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(d),(0,a.$)(d)}updateAttendanceList(t,d){return this.httpClient.post(this.API_URL+"/att/"+t,d)}getAttendancesForUser(t){return this.httpClient.get(this.API_URL+"/"+t)}getAllHolidays(){return this.httpClient.get(this.API_URL1)}getAllEmployeesWithAttendances(){return this.httpClient.get(this.API_URL2+"/currentWeek")}validatePresence(t,d){return this.httpClient.put(this.API_URL2+"/"+t+"/validate-presence",d)}getUsersWithAttendances(){return this.httpClient.get(this.API_URL2+"/allusers")}static#t=this.\u0275fac=function(d){return new(d||s)(r.KVO(u.Qq))};static#e=this.\u0275prov=r.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},29030:(g,p,n)=>{n.d(p,{H:()=>T});var o=n(99213),u=n(88834),a=n(8173),h=n(60177),r=n(99437),l=n(18810),s=n(48032),e=n.n(s),t=n(54438),d=n(42962);const E=()=>["Home"],P=c=>({color:c});function C(c,v){if(1&c&&(t.j41(0,"th"),t.EFF(1),t.k0s()),2&c){const i=v.$implicit;t.R7$(),t.JRh(i)}}function M(c,v){if(1&c){const i=t.RV6();t.j41(0,"div")(1,"div",15)(2,"strong",16),t.EFF(3),t.k0s(),t.j41(4,"strong"),t.EFF(5),t.k0s(),t.j41(6,"div")(7,"a",17),t.bIt("click",function(){t.eBV(i);const m=t.XpG().$implicit,f=t.XpG(3).$implicit,D=t.XpG();return t.Njj(D.approveAttendance(f._id,m))}),t.j41(8,"i",18),t.EFF(9,"thumb_up"),t.k0s()(),t.j41(10,"a",17),t.bIt("click",function(){t.eBV(i);const m=t.XpG().$implicit,f=t.XpG(3).$implicit,D=t.XpG();return t.Njj(D.declineAttendance(f._id,m))}),t.j41(11,"i",19),t.EFF(12,"thumb_down"),t.k0s()()()()()}if(2&c){const i=t.XpG().$implicit,_=t.XpG(4);t.R7$(2),t.Y8G("ngStyle",t.eq3(3,P,_.getStatusColor(i.etat))),t.R7$(),t.JRh(_.formatDate(i.date)),t.R7$(2),t.JRh(i.status)}}function y(c,v){if(1&c&&(t.j41(0,"div"),t.DNE(1,M,13,5,"div",14),t.k0s()),2&c){const i=v.$implicit,_=t.XpG(2).$implicit,m=t.XpG(2);t.R7$(),t.Y8G("ngIf",m.getDayOfWeek(i.date)===_)}}function O(c,v){if(1&c&&(t.qex(0),t.DNE(1,y,2,1,"div",12),t.bVm()),2&c){const i=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngForOf",i.attendances)}}function A(c,v){if(1&c&&(t.j41(0,"td"),t.DNE(1,O,2,1,"ng-container",14),t.k0s()),2&c){const i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",i.attendances)}}function R(c,v){if(1&c&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"a",13),t.EFF(5),t.k0s()(),t.DNE(6,A,2,1,"td",12),t.k0s()),2&c){const i=v.$implicit,_=t.XpG();t.R7$(2),t.SpI("#",i.Matricule,""),t.R7$(2),t.Mz_("href","mailto:",i.email,"",t.B4B),t.R7$(),t.Lme("",i.lastName," ",i.firstName,""),t.R7$(),t.Y8G("ngForOf",_.daysOfWeek)}}let T=(()=>{class c{constructor(i){this.canladerS=i,this.employeesWithAttendances=[],this.daysOfWeek=["Monday","Tuesday","Wednesday","Thursday","Friday"]}ngOnInit(){this.getAllUsersWithAttendances()}getAllUsersWithAttendances(){this.canladerS.getAllEmployeesWithAttendances().subscribe(i=>{this.employeesWithAttendances=i,console.log(this.employeesWithAttendances)},i=>{console.error("Une erreur est survenue lors de la r\xe9cup\xe9ration des utilisateurs:",i)})}getDayOfWeek(i){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(i).getDay()]}validatePresence(i,_){this.canladerS.validatePresence(i,_).pipe((0,r.W)(m=>(console.error("Une erreur est survenue:",m),(0,l.$)("Une erreur est survenue lors de la validation de la pr\xe9sence.")))).subscribe(()=>{})}approveAttendance(i,_){e().fire({title:"Are you sure?",text:"Do you really want to approve this attendance?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, approve",cancelButtonText:"Cancel"}).then(m=>{m.isConfirmed&&(_.etat="Approved",this.validatePresence(i,[_]),e().fire("Approved!","The attendance has been approved successfully.","success"))})}declineAttendance(i,_){e().fire({title:"Are you sure?",text:"Do you really want to decline this attendance?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, decline",cancelButtonText:"Cancel"}).then(m=>{m.isConfirmed&&(_.etat="Declined",this.validatePresence(i,[_]),e().fire("Declined!","The attendance has been declined successfully.","success"))})}getStatusColor(i){switch(i){case"Approved":return"green";case"Declined":return"red";case"Pending":return"blue";default:return"black"}}formatDate(i){return new Date(i).toISOString().split("T")[0]}static#t=this.\u0275fac=function(_){return new(_||c)(t.rXU(d.I))};static#e=this.\u0275cmp=t.VBU({type:c,selectors:[["app-billing"]],standalone:!0,features:[t.aNF],decls:23,vars:6,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"header"],[1,"body"],[1,"card-body"],[1,"responsive_table"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"href"],[4,"ngIf"],[2,"display","flex","flex-direction","column"],[3,"ngStyle"],[3,"click"],[1,"material-icons","m-r-10","col-green"],[1,"material-icons","m-r-10","col-red"]],template:function(_,m){1&_&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2),t.nrm(3,"app-breadcrumb",3),t.k0s(),t.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),t.EFF(9,"Validate Attendance"),t.k0s()(),t.j41(10,"div",8)(11,"div",9)(12,"div",10)(13,"table",11)(14,"thead")(15,"tr")(16,"th"),t.EFF(17,"Matricule"),t.k0s(),t.j41(18,"th"),t.EFF(19,"Employee Name"),t.k0s(),t.DNE(20,C,2,1,"th",12),t.k0s()(),t.j41(21,"tbody"),t.DNE(22,R,7,6,"tr",12),t.k0s()()()()()()()()()()),2&_&&(t.R7$(3),t.Y8G("title","Attendance")("items",t.lJ4(5,E))("active_item","Attendance"),t.R7$(17),t.Y8G("ngForOf",m.daysOfWeek),t.R7$(2),t.Y8G("ngForOf",m.employeesWithAttendances))},dependencies:[a.D,u.Hl,o.m_,h.MD,h.Sq,h.bT,h.B3]})}return c})()},67853:(g,p,n)=>{n.d(p,{w:()=>r});var o=n(84412),u=n(14619),a=n(54438),h=n(21626);let r=(()=>{class l extends u.U{constructor(e){super(),this.httpClient=e,this.API_URL="assets/data/attendance.json",this.isTblLoading=!0,this.dataChange=new o.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllAttendancess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:e=>{this.isTblLoading=!1,this.dataChange.next(e)},error:e=>{this.isTblLoading=!1,console.log(e.name+" "+e.message)}})}addAttendances(e){this.dialogData=e}updateAttendances(e){this.dialogData=e}deleteAttendances(e){console.log(e)}static#t=this.\u0275fac=function(t){return new(t||l)(a.KVO(h.Qq))};static#e=this.\u0275prov=a.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},44317:(g,p,n)=>{n.d(p,{P:()=>h});var o=n(89417),u=n(88834),a=n(54438);let h=(()=>{class r{emitFiles(s){const e=s&&s.item(0);this.onChange(e),this.file=e}constructor(s){this.host=s,this.file=null}writeValue(s){this.host.nativeElement.value="",this.file=null}registerOnChange(s){this.onChange=s}registerOnTouched(s){}static#t=this.\u0275fac=function(e){return new(e||r)(a.rXU(a.aKT))};static#e=this.\u0275cmp=a.VBU({type:r,selectors:[["app-file-upload"]],hostBindings:function(e,t){1&e&&a.bIt("change",function(E){return t.emitFiles(E.target.files)})},standalone:!0,features:[a.Jv_([{provide:o.kq,useExisting:r,multi:!0}]),a.aNF],decls:6,vars:1,consts:[[1,"file-drop-area"],["mat-raised-button","","color","primary"],["type","file",1,"file-input"]],template:function(e,t){1&e&&(a.j41(0,"div",0)(1,"button",1),a.EFF(2,"Choose file"),a.k0s(),a.j41(3,"span"),a.EFF(4),a.k0s(),a.nrm(5,"input",2),a.k0s()),2&e&&(a.R7$(4),a.JRh(t.file?t.file.name:" or drag and drop file here"))},dependencies:[u.Hl,u.$z],styles:[".file-drop-area[_ngcontent-%COMP%]{border:1px dashed #7c7db3;border-radius:3px;position:relative;max-width:100%;margin-top:5px;padding:26px 20px 30px;transition:.2s}.file-input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;width:100%;cursor:pointer;opacity:0}.file-msg[_ngcontent-%COMP%]{display:inline-block;margin-left:5px;font-size:12px;font-weight:500;color:#5b5bff}"]})}return r})()},71997:(g,p,n)=>{n.d(p,{w:()=>h});var o=n(54438),u=n(86600);let h=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275mod=o.$C({type:r});static#a=this.\u0275inj=o.G2t({imports:[u.yE,u.yE]})}return r})()}}]);